(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-place-order-index"],{"02b7":function(t,e,i){"use strict";var a=i("9ccd"),o=i.n(a);o.a},1819:function(t,e,i){"use strict";var a=i("fcb0"),o=i.n(a);o.a},"19d5":function(t,e,i){"use strict";i("c975"),i("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.tools=e.checkLogin=e.jumpBackPage=e.goBack=e.goods=e.orders=void 0;var a={mounted:function(){},methods:{orderDetail:function(t){this.$common.navigateTo("/pages/member/order/orderdetail?order_id="+t)},toPay:function(t){this.$common.navigateTo("/pages/goods/payment/index?order_id="+t+"&type=1")},toEvaluate:function(t){this.$common.navigateTo("/pages/member/order/evaluate?order_id="+t)},showExpress:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=encodeURIComponent("code="+t+"&no="+e+"&add="+i);this.$common.navigateTo("/pages/member/order/express_delivery?params="+a)}}};e.orders=a;var o={mounted:function(){},methods:{goodsDetail:function(t){this.$common.navigateTo("/pages/goods/index/index?id="+t)},goodsList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="/pages/classify/index";Object.keys(t).length&&(e=this.$common.builderUrlParams(e,t)),this.$common.navigateTo(e)},groupDetail:function(t,e){this.$common.navigateTo("/pages/goods/index/group?id="+t+"&group_id="+e)},pintuanDetail:function(t,e){e?this.$common.navigateTo("/pages/goods/index/pintuan?id="+t+"&team_id="+e):this.$common.navigateTo("/pages/goods/index/pintuan?id="+t)}}};e.goods=o;var n={onBackPress:function(t){if("navigateBack"===t.from)return!1;var e=["/pages/cart/index/index","/pages/member/index/index"],i=this.$store.state.redirectPage;return e.indexOf(i)>-1?(this.$store.commit({type:"redirect",page:""}),uni.switchTab({url:"/pages/index/index"}),!0):void 0},backBtn:function(){var t=getCurrentPages();t.length>1?uni.navigateBack({delta:1}):uni.switchTab({url:"/pages/index/index"})}};e.goBack=n;var s={methods:{handleBack:function(){var t=this.$store.state.redirectPage;console.log(t),this.$store.commit({type:"redirect",page:""});var e=["/pages/index/index","/pages/member/index/index"];e.indexOf(t)>-1?uni.switchTab({url:t}):t?uni.redirectTo({url:t}):uni.switchTab({url:"/pages/index/index"})}}};e.jumpBackPage=s;var c={methods:{checkIsLogin:function(){uni.showToast({title:"请先登录！",icon:"none",duration:800,success:function(t){setTimeout((function(){uni.hideToast(),uni.navigateTo({url:"/pages/login/login/index1"})}),200)}})}}};e.checkLogin=c;var r={methods:{copyData:function(t){var e=this;uni.setClipboardData({data:t,success:function(){e.$common.errorToShow("复制成功")}})}}};e.tools=r},"1b7a":function(t,e,i){"use strict";i.r(e);var a=i("d847"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},2256:function(t,e,i){var a=i("62d8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("56a70591",a,!0,{sourceMap:!1,shadowMode:!1})},"47de":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.popshow,expression:"popshow"}],staticClass:"lvv-popup",on:{touchmove:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"lvv-popupmark",class:"top"!=t.position||t.hideanimation?"left"!=t.position||t.hideanimation?"right"!=t.position||t.hideanimation?"bottom"!=t.position||t.hideanimation?"top"==t.position&&t.hideanimation?"ht":"left"==t.position&&t.hideanimation?"hl":"right"==t.position&&t.hideanimation?"hr":"bottom"==t.position&&t.hideanimation?"hc":"":"pc":"pr":"pl":"pt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"lvv-popupcontent",class:"top"!=t.position||t.hideanimation?"left"!=t.position||t.hideanimation?"right"!=t.position||t.hideanimation?"bottom"!=t.position||t.hideanimation?"top"==t.position&&t.hideanimation?"ht":"left"==t.position&&t.hideanimation?"hl":"right"==t.position&&t.hideanimation?"hr":"bottom"==t.position&&t.hideanimation?"hb":"":"pb":"pr":"pl":"pt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"realcontent",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t._t("default")],2)],1)],1)},n=[]},"481d":function(t,e,i){"use strict";i.r(e);var a=i("c2de"),o=i("1b7a");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("d13c");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"4a346e3d",null,!1,a["a"],s);e["default"]=r.exports},"60e1":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".content-top[data-v-5ae2a3ae]{\n}.coupon-enter[data-v-5ae2a3ae]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?60?%;margin:%?40?%}.coupon-enter>uni-view[data-v-5ae2a3ae]{display:inline-block}.coupon-input[data-v-5ae2a3ae]{\r\n    /* width: 450upx; */-webkit-box-flex:1;-webkit-flex:1;flex:1;border:%?2?% solid #e8e8e8;background-color:#fff;height:100%;display:block}.coupon-input uni-input[data-v-5ae2a3ae]{height:100%;font-size:%?26?%;padding:%?2?% %?10?%}.coupon-code[data-v-5ae2a3ae]{margin:%?4?% %?30?%}.coupon-enter-btn[data-v-5ae2a3ae]{height:100%;margin-left:%?20?%}.coupon-enter-btn .btn[data-v-5ae2a3ae]{font-size:%?24?%;height:100%;width:%?108?%;line-height:%?58?%}.bg-c[data-v-5ae2a3ae]{background-color:#ccc}.no-store[data-v-5ae2a3ae]{text-align:center;padding:%?30?% 0;font-size:%?26?%;color:#666\r\n    /* min-height: 60upx; */}.coupon-none[data-v-5ae2a3ae]{text-align:center;padding:%?120?% 0}.coupon-none-img[data-v-5ae2a3ae]{width:%?274?%;height:%?274?%}.coupon-list[data-v-5ae2a3ae]{padding:0 %?40?%}.coupon-item[data-v-5ae2a3ae]{background-color:#fff;margin-bottom:%?20?%;position:relative}.coupon-name[data-v-5ae2a3ae]{padding:%?10?% %?34?% %?10?% %?10?%}.coupon-code1[data-v-5ae2a3ae]{padding:%?10?%}.delete[data-v-5ae2a3ae]{position:absolute;top:%?10?%;right:0}.delete uni-image[data-v-5ae2a3ae]{width:%?40?%;height:%?40?%}.margin-cell-group[data-v-5ae2a3ae]{margin:0 0 %?2?% 0}.add-title-items[data-v-5ae2a3ae]{text-align:center}.add-title-items .btn[data-v-5ae2a3ae]{font-size:%?24?%\r\n\t/* margin: 0 auto; */}.add-title-item .cell-item-hd[data-v-5ae2a3ae]{min-width:%?40?%;color:#666;font-size:%?28?%}.add-title-item .cell-item-bd[data-v-5ae2a3ae]{color:#333;font-size:%?28?%;width:100%}.add-title-item .cell-bd-text[data-v-5ae2a3ae]{bottom:0}.add-title-item .cell-item-bd .cell-bd-view[data-v-5ae2a3ae]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.cell-bd-view[data-v-5ae2a3ae]:first-child{margin-bottom:%?8?%}.cell-ft-view[data-v-5ae2a3ae]:first-child{margin-bottom:%?8?%}.address[data-v-5ae2a3ae]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;width:100%}.img-list[data-v-5ae2a3ae]{margin-bottom:%?20?%}.button-bottom uni-button[data-v-5ae2a3ae]{height:100%;width:%?280?%}.button-bottom-c[data-v-5ae2a3ae]{display:inline-block;position:relative;padding:%?10?% %?26?%;height:100%;width:%?470?%;float:left;font-size:%?22?%;color:#666;overflow:hidden}.button-bottom-c-t[data-v-5ae2a3ae]{font-size:%?22?%;color:#999;display:inline-block;float:left;height:100%;line-height:%?70?%}.button-bottom-c-b[data-v-5ae2a3ae]{font-size:%?26?%;color:#333;display:inline-block;float:right;height:100%;line-height:%?70?%}.invoice .cell-ft-text[data-v-5ae2a3ae]{\r\n\t/* top: 4upx; */color:#666;font-size:%?24?%}.cell-item-ft .cell-bd-input[data-v-5ae2a3ae]{text-align:right;width:250px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pop-t[data-v-5ae2a3ae]{border-bottom:%?2?% solid #f4f4f4;background-color:#fff}.pop-b[data-v-5ae2a3ae]{margin-bottom:%?90?%}.pop-b-t[data-v-5ae2a3ae]{background-color:#fff;width:100%;padding-top:%?10?%}.coupon-c[data-v-5ae2a3ae]{\r\n\t/* padding: 50upx; */height:%?546?%;-webkit-box-sizing:border-box;box-sizing:border-box}.coupon-c-item[data-v-5ae2a3ae]{margin:%?30?%;\r\n\t/* width: 100%; */height:%?150?%;margin-bottom:%?20?%}.cci-l[data-v-5ae2a3ae]{width:%?60?%;height:100%;background-color:#ff7159;font-size:%?32?%;display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;-webkit-border-top-left-radius:%?16?%;border-top-left-radius:%?16?%;-webkit-border-bottom-left-radius:%?16?%;border-bottom-left-radius:%?16?%}.cci-l-c[data-v-5ae2a3ae]{height:%?60?%;line-height:%?44?%;width:%?150?%;text-align:center;-webkit-transform-origin:%?30?% %?30?%;transform-origin:%?30?% %?30?%;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.cci-r[data-v-5ae2a3ae]{position:relative;height:%?150?%;width:calc(100% - %?70?%);margin-left:%?10?%;display:inline-block;background-color:#fff}.cci-r-img[data-v-5ae2a3ae]{position:absolute;width:100%;height:100%;background-color:#fff}.cci-r-c[data-v-5ae2a3ae]{position:relative;z-index:99}.ccirc-t[data-v-5ae2a3ae]{font-size:%?24?%;padding:%?10?% %?20?%;min-height:%?56?%}.ccirc-b[data-v-5ae2a3ae]{padding:%?10?%;position:relative}.ccirc-b-l[data-v-5ae2a3ae]{display:inline-block;max-width:%?400?%}.ccirc-b-tip[data-v-5ae2a3ae]{font-size:%?28?%;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-height:%?38?%}.ccirc-b-tip uni-text[data-v-5ae2a3ae]{font-size:%?34?%}.ccirc-b-time[data-v-5ae2a3ae]{font-size:%?24?%;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ccirc-b-r[data-v-5ae2a3ae]{display:inline-block;background-color:#ff7159;font-size:%?26?%;padding:%?4?% %?10?%;-webkit-border-radius:%?4?%;border-radius:%?4?%;position:absolute;right:%?20?%;bottom:%?12?%}.pop-c .btn[data-v-5ae2a3ae]{width:100%}.leave-message[data-v-5ae2a3ae]{margin:%?20?% 0}.leave-message .cell-item[data-v-5ae2a3ae]{border-bottom:0}.cell-textarea[data-v-5ae2a3ae]{padding:0 %?26?% %?20?%}\n.cell-textarea uni-textarea[data-v-5ae2a3ae]{width:100%;height:%?100?%;font-size:%?26?%;color:#333}\n.coupon-enter[data-v-5ae2a3ae]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?60?%;margin:%?40?%}.coupon-enter > uni-view[data-v-5ae2a3ae]{display:inline-block}.coupon-input[data-v-5ae2a3ae]{\r\n\t/* width: 450upx; */-webkit-box-flex:1;-webkit-flex:1;flex:1;border:%?2?% solid #e8e8e8;background-color:#fff;height:100%;display:block}.coupon-input uni-input[data-v-5ae2a3ae]{height:100%;font-size:%?26?%;padding:%?2?% %?10?%}.coupon-code[data-v-5ae2a3ae]{margin:%?4?% %?30?%}.coupon-enter-btn[data-v-5ae2a3ae]{height:100%;margin-left:%?20?%}.coupon-enter-btn .btn[data-v-5ae2a3ae]{font-size:%?24?%;height:100%;width:%?108?%;line-height:%?58?%}.bg-c[data-v-5ae2a3ae]{background-color:#ccc}.no-store[data-v-5ae2a3ae]{text-align:center;padding:%?30?% 0;font-size:%?26?%;color:#666\r\n\t/* min-height: 60upx; */}.coupon-none[data-v-5ae2a3ae]{text-align:center;padding:%?120?% 0}.coupon-none-img[data-v-5ae2a3ae]{width:%?274?%;height:%?274?%}.coupon-list[data-v-5ae2a3ae]{padding:0 %?40?%}.coupon-item[data-v-5ae2a3ae]{background-color:#fff;margin-bottom:%?20?%;position:relative}.coupon-name[data-v-5ae2a3ae]{padding:%?10?% %?34?% %?10?% %?10?%}.coupon-code1[data-v-5ae2a3ae]{padding:%?10?%}.delete[data-v-5ae2a3ae]{position:absolute;top:%?10?%;right:0}.delete uni-image[data-v-5ae2a3ae]{width:%?40?%;height:%?40?%}.promotion-item[data-v-5ae2a3ae]{display:inline-block;float:left;margin-right:%?10?%;margin-bottom:%?4?%;background-color:#ff7159;color:#fff;height:%?34?%;font-size:%?24?%;line-height:%?34?%;padding:0 %?10?%}",""]),t.exports=e},"613b":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.lvv-popup[data-v-409cc2bf]{top:0;left:0;width:100%;height:100%;position:fixed;z-index:98}.lvv-popup .lvv-popupmark[data-v-409cc2bf]{top:0;left:0;width:100%;height:100%;z-index:99;position:absolute;background:rgba(0,0,0,.5)}.lvv-popup .lvv-popupmark.pt[data-v-409cc2bf], .lvv-popup .lvv-popupmark.ht[data-v-409cc2bf]{background:none}.lvv-popup .lvv-popupcontent[data-v-409cc2bf]{width:100%;height:100%;top:0;left:0;position:absolute;z-index:100}.lvv-popup .pt[data-v-409cc2bf]{-webkit-animation:showtop-data-v-409cc2bf .5s;animation:showtop-data-v-409cc2bf .5s}.lvv-popup .pl[data-v-409cc2bf]{-webkit-animation:showleft-data-v-409cc2bf .5s;animation:showleft-data-v-409cc2bf .5s}.lvv-popup .pr[data-v-409cc2bf]{-webkit-animation:showright-data-v-409cc2bf .5s;animation:showright-data-v-409cc2bf .5s}.lvv-popup .pb[data-v-409cc2bf]{-webkit-animation:showbottom-data-v-409cc2bf .5s;animation:showbottom-data-v-409cc2bf .5s}.lvv-popup .ht[data-v-409cc2bf]{-webkit-animation:hidetop-data-v-409cc2bf .5s;animation:hidetop-data-v-409cc2bf .5s}.lvv-popup .hl[data-v-409cc2bf]{-webkit-animation:hideleft-data-v-409cc2bf .55s;animation:hideleft-data-v-409cc2bf .55s}.lvv-popup .hr[data-v-409cc2bf]{-webkit-animation:hideright-data-v-409cc2bf .55s;animation:hideright-data-v-409cc2bf .55s}.lvv-popup .hb[data-v-409cc2bf]{-webkit-animation:hidebottom-data-v-409cc2bf 1s;animation:hidebottom-data-v-409cc2bf 1s}.lvv-popup .pc[data-v-409cc2bf]{-webkit-animation:showcontent-data-v-409cc2bf .55s;animation:showcontent-data-v-409cc2bf .55s}.lvv-popup .hc[data-v-409cc2bf]{-webkit-animation:hidecontent-data-v-409cc2bf .55s;animation:hidecontent-data-v-409cc2bf .55s}@-webkit-keyframes showtop-data-v-409cc2bf{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:1}100%{top:0;-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@keyframes showtop-data-v-409cc2bf{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:1}100%{top:0;-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@-webkit-keyframes showleft-data-v-409cc2bf{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:1}50%{opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes showleft-data-v-409cc2bf{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:1}50%{opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes showright-data-v-409cc2bf{0%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:1}50%{opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes showright-data-v-409cc2bf{0%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:1}50%{opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes showbottom-data-v-409cc2bf{0%{-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1}50%{opacity:.5}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes showbottom-data-v-409cc2bf{0%{-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1}50%{opacity:.5}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes hidetop-data-v-409cc2bf{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:1}}@keyframes hidetop-data-v-409cc2bf{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:1}}@-webkit-keyframes hideleft-data-v-409cc2bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}50%{opacity:0}100%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:1}}@keyframes hideleft-data-v-409cc2bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}50%{opacity:0}100%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:1}}@-webkit-keyframes hideright-data-v-409cc2bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}50%{opacity:0}100%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:1}}@keyframes hideright-data-v-409cc2bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}50%{opacity:0}100%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:1}}@-webkit-keyframes hidebottom-data-v-409cc2bf{0%{-webkit-transform:translateY(0);transform:translateY(0)}50%{opacity:0}100%{-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1}}@keyframes hidebottom-data-v-409cc2bf{0%{-webkit-transform:translateY(0);transform:translateY(0)}50%{opacity:0}100%{-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1}}@-webkit-keyframes showcontent-data-v-409cc2bf{0%{opacity:0}100%{opacity:1}}@keyframes showcontent-data-v-409cc2bf{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes hidecontent-data-v-409cc2bf{0%{opacity:1}100%{opacity:0}}@keyframes hidecontent-data-v-409cc2bf{0%{opacity:1}100%{opacity:0}}',""]),t.exports=e},"62d8":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".segmented-control[data-v-4a346e3d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:75%;font-size:%?28?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 auto;overflow:hidden}.segmented-control.button[data-v-4a346e3d]{border:%?2?% solid}.segmented-control.text[data-v-4a346e3d]{border:0;-webkit-border-radius:%?0?%;border-radius:%?0?%;width:100%}.segmented-control-item[data-v-4a346e3d]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;line-height:%?60?%;-webkit-box-sizing:border-box;box-sizing:border-box}.segmented-control-item.button[data-v-4a346e3d]{border-left:%?1?% solid}.segmented-control-item.text[data-v-4a346e3d]{border-left:0}.segmented-control-item[data-v-4a346e3d]:first-child{border-left-width:0}",""]),t.exports=e},"75a7":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{position:{type:String,default:null}},data:function(){return{popshow:!1,hideanimation:!1}},methods:{show:function(){this.popshow=!0},close:function(){var t=this;this.$emit("close"),t.hideanimation=!0,null==t.position?t.popshow=!1:setTimeout((function(){t.popshow=!1,t.hideanimation=!1}),500)}}};e.default=a},"7bab":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={uniSegmentedControl:i("481d").default,lvvPopup:i("bc89").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-form",{staticClass:"content",attrs:{"report-submit":"true"},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.toPay.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"content-top"},[1==t.storeSwitch?i("uni-segmented-control",{attrs:{current:t.type_current,values:t.type_items,"style-type":"text","active-color":"#333"},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onTypeItem.apply(void 0,arguments)}}}):t._e(),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===t.type_current,expression:"type_current === 0"}]},[t.userShip&&t.userShip.id?i("v-uni-view",{staticClass:"cell-group margin-cell-group",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showAddressList.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cell-item add-title-item right-img cell-item-mid"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-image",{staticClass:"cell-hd-icon",attrs:{src:"/static/image/location.png"}})],1),i("v-uni-view",{staticClass:"cell-item-bd cell-item-bd-block"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("收货人："+t._s(t.userShip.name||""))]),i("v-uni-text",{staticClass:"cell-bd-text-right"},[t._v(t._s(t.userShip.mobile||""))])],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text address"},[t._v(t._s(t.userShip.area_name||"")+" "+t._s(t.userShip.address||""))])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})],1)],1)],1):i("v-uni-view",{staticClass:"cell-group margin-cell-group"},[i("v-uni-view",{staticClass:"cell-item add-title-items"},[i("v-uni-button",{staticClass:"btn btn-b",attrs:{"hover-class":"btn-hover2"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goAddress()}}},[t._v("添加收货地址")])],1)],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.type_current,expression:"type_current === 1"}]},[t.store&&t.store.id&&0!=t.store.id?i("v-uni-view",{staticClass:"cell-group margin-cell-group",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goStorelist()}}},[i("v-uni-view",{staticClass:"cell-item add-title-item right-img cell-item-mid"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-image",{staticClass:"cell-hd-icon",attrs:{src:"/static/image/homepage.png"}})],1),i("v-uni-view",{staticClass:"cell-item-bd cell-item-bd-block"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v(t._s(t.store.name||""))]),i("v-uni-text",{staticClass:"cell-bd-text-right"},[t._v(t._s(t.store.mobile||""))])],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text address"},[t._v(t._s(t.store.address||""))])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})],1)],1)],1):i("v-uni-view",{staticClass:"cell-group margin-cell-group"},[i("v-uni-view",{staticClass:"cell-item add-title-item right-img no-store cell-item-bd-block"},[t._v("暂无门店")])],1)],1)],1),1==t.storeSwitch&&1===t.type_current?i("v-uni-view",{staticClass:"cell-group margin-cell-group"},[i("v-uni-view",{staticClass:"cell-item user-head cell-item-mid"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("姓名")])],1),i("v-uni-view",{staticClass:"cell-item-bd",staticStyle:{width:"88%"}},[i("v-uni-input",{staticClass:"cell-bd-input",staticStyle:{width:"100%"},attrs:{placeholder:"请输入提货人姓名"},model:{value:t.store_pick.name,callback:function(e){t.$set(t.store_pick,"name",e)},expression:"store_pick.name"}})],1)],1),i("v-uni-view",{staticClass:"cell-item cell-item-mid"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("电话")])],1),i("v-uni-view",{staticClass:"cell-item-bd",staticStyle:{width:"88%"}},[i("v-uni-input",{staticClass:"cell-bd-input",staticStyle:{width:"100%"},attrs:{placeholder:"请输入提货人电话"},model:{value:t.store_pick.mobile,callback:function(e){t.$set(t.store_pick,"mobile",e)},expression:"store_pick.mobile"}})],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"img-list"},t._l(t.products,(function(e,a){return 1==e.is_select?i("v-uni-view",{key:a,staticClass:"img-list-item"},[i("v-uni-image",{staticClass:"img-list-item-l little-img have-none",attrs:{src:e.products.image_path,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"img-list-item-r little-right"},[i("v-uni-view",{staticClass:"little-right-t"},[i("v-uni-view",{staticClass:"goods-name list-goods-name",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goodsDetail(e.products.goods_id)}}},[t._v(t._s(e.products.name||"")),7==e.type?i("v-uni-text",{staticClass:"gift"},[t._v("[赠品]")]):t._e()],1),7!=e.type?i("v-uni-view",{staticClass:"goods-price"},[t._v("￥"+t._s(e.products.price||""))]):t._e()],1),e.products.promotion_list?i("v-uni-view",{staticClass:"romotion-tip"},t._l(e.products.promotion_list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"romotion-tip-item"},[t._v(t._s(e||""))])})),1):t._e(),i("v-uni-view",{staticClass:"goods-item-c"},[i("v-uni-view",{staticClass:"goods-buy"},[null!==e.products.spes_desc?i("v-uni-view",{staticClass:"goods-salesvolume"},[t._v(t._s(e.products.spes_desc||""))]):t._e(),i("v-uni-view",{staticClass:"goods-num"},[t._v("× "+t._s(e.nums||""))])],1)],1)],1)],1):t._e()})),1),i("v-uni-view",{staticClass:"cell-group"},[t.cartData.promotion_list&&t.cartData.promotion_list.length>0?i("v-uni-view",{staticClass:"cell-item"},[i("v-uni-view",{staticClass:"cell-item-hd"},[t._v("订单优惠")]),i("v-uni-view",{staticClass:"cell-item-ft"},t._l(t.cartData.promotion_list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"promotion-item"},[t._v(t._s(e||""))])})),1)],1):t._e(),i("v-uni-view",{staticClass:"cell-item"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title",staticStyle:{"min-width":"100rpx"}},[t._v("优惠券")])],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toshow()}}},[t._v(t._s(t.usedCouponsCompute||""))])],1)],1),1===t.isOpenPoint&&t.userPointNums>0?i("v-uni-view",{staticClass:"cell-item add-title-item right-img"},[i("v-uni-view",{staticClass:"cell-item-bd",staticStyle:{"margin-left":"0"}},[i("v-uni-view",{staticClass:"cell-bd-view"},[t._v("积分抵扣")]),i("v-uni-view",{staticClass:"cell-bd-view",staticStyle:{"margin-bottom":"4rpx"}},[i("v-uni-text",{staticClass:"cell-bd-text address color-9"},[t._v("可用 "+t._s(t.canUsePoint||"")+" 积分，可抵扣 "+t._s(t.pointMoney||"")+" 元，共有 "+t._s(t.userPointNums||"")+" 积分。")])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePointHandle.apply(void 0,arguments)}}},[i("v-uni-label",{staticClass:"radio"},[i("v-uni-radio",{attrs:{value:"1",checked:t.isUsePoint,color:"#FF7159"}})],1)],1)],1):t._e(),1==t.invoiceSwitch?i("v-uni-view",{staticClass:"cell-item invoice right-img"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("发票")])],1),i("v-uni-view",{staticClass:"cell-item-ft",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goInvoice()}}},[i("v-uni-text",{staticClass:"cell-bd-input"},[t._v(t._s(t.invoice.name||""))]),i("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})],1)],1):t._e(),i("v-uni-view",{staticClass:"cell-item"},[i("v-uni-view",{staticClass:"cell-item-hd cell-item-bd-block"},[i("v-uni-view",{staticClass:"cell-bd-view"},[t._v("商品价格")]),t.cartData.goods_pmt_old>0?i("v-uni-view",{staticClass:"cell-bd-view"},[t._v("商品优惠")]):t._e(),t.cartData.order_pmt_old>0?i("v-uni-view",{staticClass:"cell-hd-view"},[t._v("订单优惠")]):t._e(),t.cartData.point>0?i("v-uni-view",{staticClass:"cell-hd-view"},[t._v("积分抵扣")]):t._e(),i("v-uni-view",{staticClass:"cell-hd-view"},[t._v("运费")])],1),i("v-uni-view",{staticClass:"cell-item-ft cell-item-bd-block"},[i("v-uni-view",{staticClass:"cell-ft-view red-price"},[t._v(t._s(t.cartData.goods_amount||""))]),t.cartData.goods_pmt_old>0?i("v-uni-view",{staticClass:"cell-ft-view"},[t._v("-"+t._s(t.cartData.goods_pmt||""))]):t._e(),t.cartData.order_pmt_old>0?i("v-uni-view",{staticClass:"cell-ft-view"},[t._v("-"+t._s(t.cartData.order_pmt||""))]):t._e(),t.cartData.point>0?i("v-uni-view",{staticClass:"cell-ft-view"},[t._v("-"+t._s(t.cartData.point_money||""))]):t._e(),i("v-uni-view",{staticClass:"cell-ft-view"},[t._v(t._s(t.cartData.cost_freight||""))])],1)],1)],1),i("v-uni-view",{staticClass:"cell-group leave-message"},[i("v-uni-view",{staticClass:"cell-item right-img"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("买家留言")])],1)],1),i("v-uni-view",{staticClass:"cell-textarea "},[i("v-uni-textarea",{attrs:{placeholder:"50字以内(选填)",maxlength:"50"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)],1)],1),i("lvv-popup",{ref:"lvvpopref",attrs:{position:"bottom"}},[i("v-uni-view",{staticStyle:{width:"100%",height:"700upx",background:"#F8F8F8",position:"absolute",left:"0",bottom:"0"}},[i("v-uni-view",{staticClass:"pop-c"},[i("v-uni-view",{staticClass:"pop-b"},[i("v-uni-view",{staticClass:"pop-b-t"},[i("uni-segmented-control",{attrs:{current:t.current,values:t.items,"style-type":"text","active-color":"#333"},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickItem.apply(void 0,arguments)}}})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}]},[t.userCoupons.length?i("v-uni-scroll-view",{staticClass:"coupon-c",attrs:{"scroll-y":"true"}},t._l(t.userCoupons,(function(e,a){return i("v-uni-view",{key:a,staticClass:"coupon-c-item"},[i("v-uni-view",{class:e.cla},[i("v-uni-view",{staticClass:"cci-l-c color-f"},[t._v("coupon")])],1),i("v-uni-view",{staticClass:"cci-r"},[i("v-uni-view",{staticClass:"cci-r-c"},[i("v-uni-view",{staticClass:"ccirc-t color-9 one-line"},[t._v(t._s(e.name||""))]),i("v-uni-view",{staticClass:"ccirc-b"},[i("v-uni-view",{staticClass:"ccirc-b-l"},[i("v-uni-view",{staticClass:"ccirc-b-tip"},[t._v(t._s(e.expression1+e.expression2))]),i("v-uni-view",{staticClass:"ccirc-b-time color-9"},[t._v("有效期："+t._s(e.stime+" - "+e.etime))])],1),e.checked||e.disabled?e.checked&&!e.disabled?i("v-uni-view",{staticClass:"ccirc-b-r color-f",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.couponHandle(a)}}},[t._v("取消使用")]):t._e():i("v-uni-view",{staticClass:"ccirc-b-r color-f",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.couponHandle(a)}}},[t._v("立即使用")])],1)],1)],1)],1)})),1):i("v-uni-view",{staticClass:"coupon-none"},[i("v-uni-image",{staticClass:"coupon-none-img",attrs:{src:"/static/image/order.png",mode:""}})],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}],staticClass:"coupon-c"},[i("v-uni-scroll-view",{staticClass:"coupon-c",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"coupon-enter"},[i("v-uni-view",{staticClass:"coupon-input"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入优惠券码"},model:{value:t.inputCouponCode,callback:function(e){t.inputCouponCode=e},expression:"inputCouponCode"}})],1),i("v-uni-view",{staticClass:"coupon-enter-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.useInputCouponCode.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"btn btn-b"},[t._v("确认")])],1)],1),t._l(t.inputCouArr,(function(e,a){return i("v-uni-view",{key:a,staticClass:"coupon-c-item"},[i("v-uni-view",{staticClass:"cci-l"},[i("v-uni-view",{staticClass:"cci-l-c color-f"},[t._v("coupon")])],1),i("v-uni-view",{staticClass:"cci-r"},[i("v-uni-view",{staticClass:"cci-r-c"},[i("v-uni-view",{staticClass:"ccirc-b",staticStyle:{padding:"20rpx 10rpx"}},[i("v-uni-view",{staticClass:"ccirc-b-l"},[i("v-uni-view",{staticClass:"ccirc-b-tip one-line",staticStyle:{"margin-bottom":"40rpx"}},[t._v(t._s(e.name||""))]),i("v-uni-view",{staticClass:"ccirc-b-time color-9"},[t._v(t._s(e.code))])],1),i("v-uni-view",{staticClass:"ccirc-b-r color-f",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.removeCouponCode1(e.code)}}},[t._v("取消使用")])],1)],1)],1)],1)}))],2)],1)],1),i("v-uni-view",{staticClass:"button-bottom"},[i("v-uni-button",{staticClass:"btn btn-square",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.notUseCoupon()}}},[t._v("不使用优惠卷")]),i("v-uni-button",{staticClass:"btn btn-square btn-b",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toclose()}}},[t._v("确定")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"button-bottom"},[i("v-uni-view",{staticClass:"button-bottom-c"},[i("v-uni-view",{staticClass:"button-bottom-c-t"},[t._v("共 "+t._s(t.productNums||"")+" 件商品")]),i("v-uni-view",{staticClass:"button-bottom-c-b"},[t._v("合计"),i("v-uni-text",{staticClass:"red-price"},[t._v(t._s(t.cartData.amount||""))])],1)],1),i("v-uni-button",{staticClass:"btn btn-square btn-b",attrs:{"hover-class":"btn-hover2","form-type":"submit",disabled:t.submitStatus,loading:t.submitStatus}},[t._v("立即支付")])],1)],1)},n=[]},"9a65":function(t,e,i){"use strict";i.r(e);var a=i("9b0c"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"9b0c":function(t,e,i){"use strict";var a=i("4ea4");i("4160"),i("c975"),i("a15b"),i("45fc"),i("a434"),i("a9e3"),i("b64b"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("bc89")),n=a(i("481d")),s=i("19d5"),c={mixins:[s.goods],data:function(){return{type_items:["快递配送","门店自提"],type_current:0,cartData:{},products:[],promotions:[],userShip:{},receiptType:1,params:{ids:0,area_id:0,coupon_code:"",point:0,type:1,params:""},invoice:{type:"1",name:"不开发票",code:""},memo:"",items:["选择优惠券","输入券码"],orderType:1,current:0,isUsePoint:!1,userPointNums:0,canUsePoint:0,pointMoney:"",userCoupons:[],usedCoupons:{},inputCouponCode:"",optCoupon:"",store:{id:0,name:"",mobile:"",address:""},store_pick:{name:"",mobile:""},team_id:0,submitStatus:!1,inputCouArr:[],clickIndex:Number,bargain_id:0,record_id:0,group_id:0}},components:{lvvPopup:o.default,uniSegmentedControl:n.default},onLoad:function(t){var e=t.cart_ids;t.order_type&&(this.params.order_type=t.order_type),t.team_id&&(this.team_id=t.team_id),t.bargain_id&&(this.bargain_id=t.bargain_id),t.record_id&&(this.record_id=t.record_id),t.group_id&&(this.group_id=t.group_id,this.params.params=JSON.stringify({group_id:t.group_id})),this.params.ids=JSON.parse(e),this.params.ids||this.$common.successToShow("获取失败",(function(){uni.navigateBack({delta:1})})),this.userDefaultShip(),this.getUserCounpons(),this.getDefaultStore()},onShow:function(){var t=this.$db.get("address_user_ship",!0);t&&(this.userShip=t,this.params.area_id=t.area_id,this.$db.del("address_user_ship",!0));var e=this.$db.get("user_invoice",!0);e&&(this.invoice=e,this.$db.del("user_invoice",!0));var i=this.$db.get("user_store",!0);i&&(this.store=i,this.$db.del("user_store",!0)),this.$store.state.shopAddress.id&&(this.store=this.$store.state.shopAddress)},methods:{onTypeItem:function(t){this.type_current!==t&&(this.type_current=t);var e=1;0!=this.type_current&&(e=2),this.receiptType=e,this.getCartList()},goStorelist:function(){uni.navigateTo({url:"./storelist"})},goAddress:function(){uni.navigateTo({url:"/pages/member/address/list?type=order"})},userDefaultShip:function(){var t=this;this.$api.userDefaultShip({},(function(e){e.status&&Object.keys(e.data).length&&(t.userShip=e.data,t.params.area_id=t.userShip.area_id)}))},getCartList:function(){var t=this,e=JSON.parse(JSON.stringify(this.params));e["receipt_type"]=this.receiptType,"-1"==e.coupon_code&&delete e.coupon_code,this.$api.cartList(e,(function(e){if(e.status){var i=e.data;if(1===t.isOpenPoint&&!t.isUsePoint){var a={order_money:i.amount};t.$api.usablePoint(a,(function(e){e.status&&(t.userPointNums=e.data,t.canUsePoint=e.available_point,t.pointMoney=e.point_rmb)}))}i.amount=t.$common.formatMoney(i.amount);var o=t.$common.moneySum(i.goods_amount,i.goods_pmt);i.goods_amount=t.$common.formatMoney(o),i.goods_pmt_old=i.goods_pmt,i.goods_pmt=t.$common.formatMoney(i.goods_pmt),i.coupon_pmt=t.$common.formatMoney(i.coupon_pmt),i.order_pmt_old=i.order_pmt,i.order_pmt=t.$common.formatMoney(i.order_pmt),i.point_money=t.$common.formatMoney(i.point_money),i.cost_freight=t.$common.formatMoney(i.cost_freight),t.cartData=i,t.products=i.list;for(var n=!0,s=0;s<i.list.length;s++)i.list[s].is_select&&(n=!1);if(n&&t.$common.errorToShow("您所挑选的商品已售罄，请重新添加哦"),t.userCoupons.forEach((function(t){t.checked1&&(t.checked=t.checked1)})),t.promotions=i.promotion_list,t.usedCoupons=i.coupon,""==t.params.coupon_code&&0!=t.usedCoupons.length){var c=[];for(var r in t.usedCoupons){var l={};l.code=r,l.name=t.usedCoupons[r],c.push(l)}t.userCoupons.forEach((function(t){t.coupon_code==c[0].code&&(t.checked=!0,t.checked1=!0)}))}if(t.inputCouponCode)for(var d in t.usedCoupons)if(d==t.inputCouponCode){var u={};u.code=d,u.name=t.usedCoupons[d],t.inputCouArr.push(u)}1===t.current&&t.$refs.lvvpopref.popshow,t.inputCouponCode="",t.optCoupon=""}else if("15030"==e.data){var p=t;if(t.optCoupon==e.exclusive_code||t.inputCouponCode==e.exclusive_code){var v=e.exclusive_arr,m=[];v.forEach((function(t){t.name="'"+t.name+"'",m.push(t.name)}));var h=m.join("，"),f="此优惠券与"+h+"冲突，确定使用吗？";uni.showModal({title:"提示",content:f,success:function(t){if(t.confirm){var i=e.exclusive_arr,a=p.params.coupon_code.split(",");i.forEach((function(t){p.userCoupons.forEach((function(i){t.code==i.coupon_code?(i.checked1=!1,i.checked=!1):e.exclusive_code==i.coupon_code&&(i.checked1=!0,i.checked=!0)})),p.inputCouArr.forEach((function(e,i){t.code==e.code&&p.inputCouArr.splice(i,1)})),a.forEach((function(e,i){t.code==e&&a.splice(i,1)})),p.params.coupon_code=a.join()}))}else if(t.cancel){p.userCoupons.forEach((function(t){t.coupon_code!=p.optCoupon&&t.coupon_code!=p.inputCouponCode||(t.checked1=!1,t.checked=!1)})),p.inputCouArr.forEach((function(t,e){t.code!=p.optCoupon&&t.code!=p.inputCouponCode||p.inputCouArr.splice(e,1)}));var o=p.params.coupon_code.split(",");o.forEach((function(t,e){t!=p.optCoupon&&t!=p.inputCouponCode||o.splice(e,1)})),p.params.coupon_code=o.join()}}})}else{var b="此优惠券与‘"+e.exclusive_name+"’冲突，确定使用吗？";uni.showModal({title:"提示",content:b,success:function(t){if(t.confirm){p.userCoupons.forEach((function(t){p.optCoupon==t.coupon_code?t.checked1=!0:e.exclusive_code==t.coupon_code&&(t.checked1=!1,t.checked=!1)})),p.inputCouArr.forEach((function(t,i){t.code==e.exclusive_code&&p.inputCouArr.splice(i,1)}));var i=p.params.coupon_code.split(",");i.forEach((function(t,a){e.exclusive_code==t&&i.splice(a,1)})),p.params.coupon_code=i.join()}else if(t.cancel){p.userCoupons.forEach((function(t){t.coupon_code!=p.optCoupon&&t.coupon_code!=p.inputCouponCode||(t.checked1=!1,t.checked=!1)})),p.inputCouArr.forEach((function(t,e){t.code!=p.optCoupon&&t.code!=p.inputCouponCode||p.inputCouArr.splice(e,1)}));var a=p.params.coupon_code.split(",");a.forEach((function(t,e){t!=p.optCoupon&&t!=p.inputCouponCode||a.splice(e,1)})),p.params.coupon_code=a.join()}}})}}else t.$common.errorToShow(e.msg,(function(){1===t.current?t.removeCouponCode(t.inputCouponCode,t.current):(t.optCoupon&&t.userCoupons.forEach((function(e){e.coupon_code===t.optCoupon&&(e.checked1=!1)})),t.removeCouponCode(t.optCoupon,t.current))}))}))},getUserCounpons:function(){var t=this,e={display:"no_used"};this.$api.userCoupon(e,(function(e){if(e.status){var i=e.data.list,a=Math.round((new Date).getTime()/1e3).toString();i.forEach((function(e){t.$set(e,"checked",!1),t.$set(e,"disabled",e.start_time>a),t.$set(e,"cla",e.disabled?"cci-l bg-c":"cci-l")})),t.userCoupons=i}}))},couponHandle:function(t){this.clickIndex=t,this.userCoupons[t].checked1=!this.userCoupons[t].checked,this.optCoupon=this.userCoupons[t].coupon_code;var e=[];this.userCoupons.forEach((function(t){t.checked1&&e.push(t.coupon_code)}));var i=this.params.coupon_code;if(this.userCoupons[t].checked1)i&&"-1"!=i?i+=","+this.optCoupon:i=e.join(),this.params.coupon_code=i;else{var a=this.params.coupon_code.split(","),o=a.indexOf(this.userCoupons[t].coupon_code);-1!==o&&(a.splice(o,1),this.params.coupon_code=a.join()),this.userCoupons[t].checked=!1;var n=this.userCoupons.some((function(t){return 0==t.checked}));!n||this.inputCouArr.length||0!=a.length&&'[""]'!=JSON.stringify(a)||(this.params.coupon_code="-1")}},useInputCouponCode:function(){var t=this;if(this.inputCouponCode){var e=this.params.coupon_code.split(",");if(e.forEach((function(t,i){"-1"==t&&e.splice(i,1)})),this.params.coupon_code=e.join(),this.params.coupon_code.length>0)this.params.coupon_code+=","+this.inputCouponCode;else{var i=this.userCoupons.some((function(t){return 1==t.checked}));i?this.userCoupons.forEach((function(e){e.checked&&(t.params.coupon_code=t.inputCouponCode+","+e.coupon_code)})):this.params.coupon_code=this.inputCouponCode}}else this.$common.errorToShow("请输入优惠券码")},notUseCoupon:function(){this.toclose(),this.inputCouponCode="",this.userCoupons.forEach((function(t){t.checked=!1,t.checked1=!1})),this.params.coupon_code="",this.inputCouArr=[],this.params.coupon_code="-1"},removeCouponCode:function(t,e){var i=this.params.coupon_code.split(",");i.splice(i.indexOf(t),1),0===e?this.optCoupon="":this.inputCouponCode="",this.params.coupon_code=i.join()},removeCouponCode1:function(t){var e=this.params.coupon_code.split(",");e.splice(e.indexOf(t),1),this.params.coupon_code=e.join();var i=[];this.inputCouArr.forEach((function(e){e.code!=t&&i.push(e)})),this.inputCouArr=i;var a=this.params.coupon_code.split(","),o=this.userCoupons.some((function(t){return 0==t.checked}));!o||this.inputCouArr.length||0!=a.length&&'[""]'!=JSON.stringify(a)||(this.params.coupon_code="-1")},changePointHandle:function(){this.userPointNums>0&&(this.isUsePoint=!this.isUsePoint,this.params.point=this.isUsePoint?this.canUsePoint:0)},toshow:function(){this.$refs.lvvpopref.show()},toclose:function(){this.$refs.lvvpopref.close()},toPay:function(t){var e=this;if(this.submitStatus)return!1;this.submitStatus=!0;var i=1;0!=this.type_current&&(i=2),this.receiptType=i;var a={cart_ids:this.params.ids,memo:this.memo,point:this.params.point,receipt_type:this.receiptType};"-1"!=this.params.coupon_code?a.coupon_code=this.params.coupon_code:a.coupon_code="",""==this.params.coupon_code&&(this.userCoupons.forEach((function(t){t.checked&&(e.params.coupon_code=t.coupon_code)})),a.coupon_code=this.params.coupon_code),a["order_type"]=this.params.order_type,0!=this.team_id&&(a["params"]=JSON.stringify({team_id:this.team_id})),0!=this.bargain_id&&(a["params"]=JSON.stringify({bargain_id:this.bargain_id,record_id:this.record_id})),0!=this.group_id&&(a["params"]=JSON.stringify({group_id:this.group_id}));var o={};if(1==this.receiptType){if(!this.userShip.id||!this.params.area_id)return this.$common.errorToShow("请选择收货地址"),this.submitStatus=!1,!1;o={uship_id:this.userShip.id,area_id:this.params.area_id}}if(2==this.receiptType){if(!this.store.id)return this.$common.errorToShow("请选择自提门店"),this.submitStatus=!1,!1;if(!this.store_pick.name)return this.$common.errorToShow("请输入提货人姓名"),this.submitStatus=!1,!1;if(!this.store_pick.mobile)return this.$common.errorToShow("请输入提货人电话"),this.submitStatus=!1,!1;o={store_id:this.store.id,lading_name:this.store_pick.name,lading_mobile:this.store_pick.mobile}}a["tax_type"]=this.invoice.type,a["tax_name"]=this.invoice.name,a["tax_code"]=this.invoice.code,a["source"]=2,a=Object.assign(a,o),this.$api.createOrder(a,(function(t){t.status?"2"==t.data.pay_status?e.$common.redirectTo("/pages/goods/payment/result?order_id="+t.data.order_id):e.$common.redirectTo("/pages/goods/payment/index?order_id="+t.data.order_id+"&type="+e.orderType):e.$common.errorToShow(t.msg)}),(function(t){e.submitStatus=!1}))},goInvoice:function(){this.$common.navigateTo("./invoice")},showAddressList:function(){this.$common.navigateTo("/pages/member/address/list?type=order")},onClickItem:function(t){this.current!==t&&(this.current=t)},getDefaultStore:function(){var t=this;1==this.storeSwitch&&this.$api.defaultStore({},(function(e){if(e.status)if(e.data&&e.data.id){var i={id:e.data.id||0,name:e.data.store_name||"",mobile:e.data.store_mobile||"",address:e.data.all_address||""};t.store=i}else t.$common.errorToShow("商家未配置默认自提店铺！")}))}},computed:{productNums:function(){var t=0;for(var e in this.cartData.list)this.cartData.list[e].is_select&&(t+=this.cartData.list[e].nums);return t},isOpenPoint:function(){return this.$store.state.config.point_switch},usedCouponsCompute:function(){var t="未使用";if(Object.keys(this.usedCoupons).length){var e=[];for(var i in this.usedCoupons)e.push(this.usedCoupons[i]);t=e.join()}return t},invoiceSwitch:function(){return this.$store.state.config.invoice_switch||2},storeSwitch:function(){return this.$store.state.config.store_switch||2},couponIsUsed:function(){return this.cartData.coupon instanceof Array}},watch:{params:{handler:function(){this.getCartList()},deep:!0}}};e.default=c},"9ccd":function(t,e,i){var a=i("60e1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("5a2be6b4",a,!0,{sourceMap:!1,shadowMode:!1})},a015:function(t,e,i){"use strict";i.r(e);var a=i("7bab"),o=i("9a65");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("02b7");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"5ae2a3ae",null,!1,a["a"],s);e["default"]=r.exports},bc89:function(t,e,i){"use strict";i.r(e);var a=i("47de"),o=i("df4c");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("1819");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"409cc2bf",null,!1,a["a"],s);e["default"]=r.exports},c2de:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"segmented-control",class:t.styleType,style:t.wrapStyle},t._l(t.values,(function(e,a){return i("v-uni-view",{key:a,staticClass:"segmented-control-item",class:t.styleType,style:a===t.currentIndex?t.activeStyle:t.itemStyle,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick(a)}}},[t._v(t._s(e))])})),1)},n=[]},d13c:function(t,e,i){"use strict";var a=i("2256"),o=i.n(a);o.a},d847:function(t,e,i){"use strict";i("99af"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-segmented-control",props:{current:{type:Number,default:0},values:{type:Array,default:function(){return[]}},activeColor:{type:String,default:"#007aff"},styleType:{type:String,default:"button"}},data:function(){return{currentIndex:this.current}},watch:{current:function(t){t!==this.currentIndex&&(this.currentIndex=t)}},computed:{wrapStyle:function(){var t="";switch(this.styleType){case"text":t="border:0;";break;default:t="border-color: ".concat(this.activeColor);break}return t},itemStyle:function(){var t="";switch(this.styleType){case"text":t="color:#999;border-left:0;";break;default:t="color:".concat(this.activeColor,";border-color:").concat(this.activeColor,";");break}return t},activeStyle:function(){var t="";switch(this.styleType){case"text":t="color:".concat(this.activeColor,";border-left:0;border-bottom-style:solid;border-bottom-width:4upx");break;default:t="color:#fff;border-color:".concat(this.activeColor,";background-color:").concat(this.activeColor);break}return t}},methods:{onClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("clickItem",t))}}};e.default=a},df4c:function(t,e,i){"use strict";i.r(e);var a=i("75a7"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},fcb0:function(t,e,i){var a=i("613b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("fb513a54",a,!0,{sourceMap:!1,shadowMode:!1})}}]);